"use strict";(globalThis["webpackChunkpharmaplus"]=globalThis["webpackChunkpharmaplus"]||[]).push([[880],{6880:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(9835),r=a(6970);const l={class:"fit row wrap justify-center items-center content-center q-py-sm"},n={class:"fit row wrap justify-center items-center content-center"},o={class:"fit row no-wrap justify-center content-start q-py-sm"};function i(e,t,a,i,c,u){const d=(0,s.up)("q-avatar"),m=(0,s.up)("q-chip"),f=(0,s.up)("q-tooltip"),p=(0,s.up)("q-btn"),w=(0,s.up)("q-table"),b=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(b,{flat:"",bordered:!e.$q.dark.isActive,class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{rows:c.userList,columns:c.columns,"row-key":"user_id",title:"User Management",class:"q-pa-md q-ma-lg",rowsPerPage:"0","rows-per-page-label":"Records per page :","rows-per-page-options":[10],separator:"none"},{"body-cell-avatar":(0,s.w5)((e=>[(0,s._)("div",l,[(0,s.Wm)(d,{color:"teal","text-color":"white",size:"md",class:"q-unselectable"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(u.getInitials(e.row.first_name,e.row.last_name)),1)])),_:2},1024)])])),"body-cell-status":(0,s.w5)((e=>[(0,s._)("div",n,[(0,s.Wm)(m,{color:u.getStatusColor(e.row.status),"text-color":"white",outline:"",class:"q-unselectable"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.row.status),1)])),_:2},1032,["color"])])])),"body-cell-actions":(0,s.w5)((e=>[(0,s._)("div",o,[(0,s.Wm)(p,{onClick:t=>u.viewUser(e.row),icon:"remove_red_eye",size:"sm",flat:"",rounded:"",color:"teal-7"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Uk)(" view user ")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(p,{onClick:t=>u.suspendUser(e.row),icon:"remove_circle",size:"sm",class:"q-ml-md",flat:"",rounded:"",color:"teal-7"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Uk)(" suspend user ")])),_:1})])),_:2},1032,["onClick"])])])),_:1},8,["rows","columns"])])),_:1},8,["bordered"])])}a(2879);var c=a(1569);const u={data(){return{userList:[],columns:[{name:"avatar",label:"",align:"center",field:"avatar",format:e=>`<q-avatar>${e}</q-avatar>`},{name:"first_name",label:"First Name",align:"left",field:"first_name",sortable:!0},{name:"last_name",label:"Last Name",align:"left",field:"last_name",sortable:!0},{name:"email",label:"Email",align:"left",field:"email",sortable:!0},{name:"user_role",label:"User Role",align:"left",field:"user_role",sortable:!0},{name:"branch_id",label:"Branch ID",align:"left",field:"branch_id",sortable:!0},{name:"status",label:"Status",align:"center",field:"status",sortable:!0},{name:"created_at",label:"Created At",align:"left",field:"created_at",sortable:!0},{name:"actions",label:"Actions",align:"center",field:"actions"}],pollingInterval:null}},mounted(){this.fetchUserList(),this.pollingInterval=setInterval(this.fetchUserList,1e3)},beforeDestroy(){clearInterval(this.pollingInterval)},methods:{async fetchUserList(){try{const e=sessionStorage.getItem("token");if(!e)return void console.error("Token not found in session storage");const t=await c.api.get("/UserList");this.userList=t.data}catch(e){console.error("Error fetching user list:",e)}},getInitials(e,t){return`${e.charAt(0)}${t.charAt(0)}`},viewUser(e){console.log("View user:",e),this.$router.push(`/UserProfile/${e.token}`)},suspendUser(e){console.log("Suspend user:",e)},getStatusColor(e){switch(e){case"active":return"teal";case"inactive":return"grey";case"suspended":return"red-12";default:return"teal"}}}};var d=a(1639),m=a(4458),f=a(5950),p=a(1357),w=a(7691),b=a(8879),h=a(6858),g=a(9984),v=a.n(g);const _=(0,d.Z)(u,[["render",i],["__scopeId","data-v-bb120fcc"]]),k=_;v()(u,"components",{QCard:m.Z,QTable:f.Z,QAvatar:p.Z,QChip:w.Z,QBtn:b.Z,QTooltip:h.Z})}}]);