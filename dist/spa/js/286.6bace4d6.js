"use strict";(globalThis["webpackChunkpharmaplus"]=globalThis["webpackChunkpharmaplus"]||[]).push([[286],{3286:(e,t,l)=>{l.r(t),l.d(t,{default:()=>_});var o=l(9835),a=l(6970);const r={class:"fit row wrap justify-center items-center content-center"};function i(e,t,l,i,s,n){const c=(0,o.up)("q-icon"),d=(0,o.up)("q-input"),u=(0,o.up)("q-chip"),p=(0,o.up)("q-td"),m=(0,o.up)("q-btn"),f=(0,o.up)("q-table"),b=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{flat:"",bordered:!e.$q.dark.isActive,class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{rows:i.filteredProducts,columns:s.columns,"row-key":"product_id",title:"Product List",class:"q-pa-md q-ma-lg",rowsPerPage:"0","rows-per-page-label":"Records per page :","rows-per-page-options":[12],filter:i.filter},{"top-right":(0,o.w5)((()=>[(0,o.Wm)(d,{dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>i.filter=e),placeholder:"Search",class:"q-mt-lg"},{append:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-status":(0,o.w5)((e=>[(0,o.Wm)(p,{props:e},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Wm)(u,{color:i.getStatusColor(e.row.status),"text-color":"white",outline:"",class:"q-unselectable"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.status),1)])),_:2},1032,["color"])])])),_:2},1032,["props"])])),"body-cell-action":(0,o.w5)((e=>[(0,o.Wm)(p,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{icon:"edit",onClick:t=>i.editProduct(e.row),class:"q-mr-xs",flat:"",color:"cyan-9",rounded:""},null,8,["onClick"]),(0,o.Wm)(m,{icon:"history",onClick:t=>i.viewAuditHistory(e.row),class:"q-mr-xs",flat:"",color:"cyan-9",rounded:""},null,8,["onClick"]),(0,o.Wm)(m,{icon:"delete",onClick:t=>i.deleteProduct(e.row),class:"q-mr-xs",flat:"",color:"cyan-9",rounded:""},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])),_:1},8,["bordered"])])}l(2879);var s=l(499),n=l(1569),c=(l(6827),l(8339));const d={setup(){const e=(0,s.iH)(""),t=(0,s.iH)([]),l=(0,c.tv)(),o=e=>{console.log("Edit product:",e)},a=e=>{console.log("Delete product:",e)},r=e=>{console.log("View audit history:",e);const t=sessionStorage.getItem("token");l.push(`/ProductAudit/${t}/${e.product_id}`)},i=e=>"available"===e?"cyan-9":"grey";return{filter:e,filteredProducts:t,editProduct:o,deleteProduct:a,viewAuditHistory:r,getStatusColor:i}},data(){return{productList:[],columns:[{name:"index",label:"#",align:"center",field:"index",sortable:!0},{name:"upc",label:"UPC",align:"left",field:"upc",sortable:!0},{name:"product_name",label:"Product Name",align:"left",field:"product_name",sortable:!0},{name:"description",label:"Description",align:"left",field:"description",sortable:!0},{name:"category",label:"Category",align:"left",field:"category",sortable:!0},{name:"price",label:"Price",align:"left",field:"price",sortable:!0},{name:"quantity",label:"Quantity",align:"left",field:"quantity",sortable:!0},{name:"branch_id",label:"Branch ID",align:"left",field:"branch_id",sortable:!0},{name:"status",label:"Status",align:"center",field:"status",sortable:!0},{name:"action",label:"Action",align:"center",field:"action",sortable:!0}]}},methods:{async fetchProductList(){const e=await n.api.get("/ProdList");this.productList=e.data,this.productList.forEach(((e,t)=>{e.index=t+1})),this.filteredProducts=this.productList},startPolling(){this.fetchProductList(),this.pollingTimer=setInterval((()=>{this.fetchProductList()}),1e3)},stopPolling(){clearInterval(this.pollingTimer)}},mounted(){this.startPolling()},beforeDestroy(){this.stopPolling()}};var u=l(1639),p=l(4458),m=l(5950),f=l(6611),b=l(2857),g=l(7220),h=l(7691),w=l(8879),y=l(9984),P=l.n(y);const q=(0,u.Z)(d,[["render",i],["__scopeId","data-v-f009691c"]]),_=q;P()(d,"components",{QCard:p.Z,QTable:m.Z,QInput:f.Z,QIcon:b.Z,QTd:g.Z,QChip:h.Z,QBtn:w.Z})}}]);