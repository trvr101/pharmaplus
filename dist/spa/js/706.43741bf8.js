"use strict";(globalThis["webpackChunkpharmaplus"]=globalThis["webpackChunkpharmaplus"]||[]).push([[706],{8706:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var r=a(9835),s=a(6970);const l={class:"fit row wrap justify-center items-center content-center"},o={class:"fit row wrap justify-center items-center content-center"},n={class:"fit row no-wrap justify-center content-start"};function i(e,t,a,i,c,u){const d=(0,r.up)("q-avatar"),m=(0,r.up)("q-td"),p=(0,r.up)("q-chip"),f=(0,r.up)("q-tooltip"),w=(0,r.up)("q-btn"),h=(0,r.up)("q-table"),g=(0,r.up)("q-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(g,{flat:"",bordered:!e.$q.dark.isActive,class:"my-card q-my-lg"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{rows:c.userList,columns:c.columns,"row-key":"user_id",title:"User Management",class:"q-pa-md q-ma-lg",rowsPerPage:"0","rows-per-page-label":"Records per page :","rows-per-page-options":[10],separator:"none"},{"body-cell-avatar":(0,r.w5)((e=>[(0,r.Wm)(m,{props:e},{default:(0,r.w5)((()=>[(0,r._)("div",l,[(0,r.Wm)(d,{color:"teal","text-color":"white",size:"md"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(u.getInitials(e.row.first_name,e.row.last_name)),1)])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-status":(0,r.w5)((e=>[(0,r.Wm)(m,{props:e},{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r.Wm)(p,{color:u.getStatusColor(e.row.status),"text-color":"white",outline:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.row.status),1)])),_:2},1032,["color"])])])),_:2},1032,["props"])])),"body-cell-actions":(0,r.w5)((e=>[(0,r.Wm)(m,{props:e},{default:(0,r.w5)((()=>[(0,r._)("div",n,[(0,r.Wm)(w,{onClick:t=>u.viewUser(e.row),icon:"remove_red_eye",size:"sm",flat:"",rounded:"",color:"teal-7"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Uk)(" view user ")])),_:1})])),_:2},1032,["onClick"]),(0,r.Wm)(w,{onClick:t=>u.suspendUser(e.row),icon:"remove_circle",size:"sm",class:"q-ml-md",flat:"",rounded:"",color:"teal-7"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Uk)(" suspend user ")])),_:1})])),_:2},1032,["onClick"])])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1},8,["bordered"])])}a(2879);var c=a(1569);const u={data(){return{userList:[],columns:[{name:"avatar",label:"",align:"center",field:"avatar",format:e=>`<q-avatar>${e}</q-avatar>`},{name:"first_name",label:"First Name",align:"left",field:"first_name",sortable:!0},{name:"last_name",label:"Last Name",align:"left",field:"last_name",sortable:!0},{name:"email",label:"Email",align:"left",field:"email",sortable:!0},{name:"user_role",label:"User Role",align:"left",field:"user_role",sortable:!0},{name:"branch_id",label:"Branch ID",align:"left",field:"branch_id",sortable:!0},{name:"status",label:"Status",align:"center",field:"status",sortable:!0},{name:"created_at",label:"Created At",align:"left",field:"created_at",sortable:!0},{name:"actions",label:"Actions",align:"center",field:"actions"}],pollingInterval:null}},mounted(){this.fetchUserList(),this.pollingInterval=setInterval(this.fetchUserList,1e3)},beforeDestroy(){clearInterval(this.pollingInterval)},methods:{async fetchUserList(){try{const e=sessionStorage.getItem("token");if(!e)return void console.error("Token not found in session storage");const t=await c.api.get(`/BranchUserList/${e}`);this.userList=t.data}catch(e){console.error("Error fetching user list:",e)}},getInitials(e,t){return`${e.charAt(0)}${t.charAt(0)}`},viewUser(e){console.log("View user:",e),this.$router.push(`/BranchUserProfile/${e.token}`)},suspendUser(e){console.log("Suspend user:",e)},getStatusColor(e){switch(e){case"active":return"teal";case"inactive":return"grey";case"suspended":return"red-12";default:return"teal"}}}};var d=a(1639),m=a(4458),p=a(5950),f=a(7220),w=a(1357),h=a(7691),g=a(8879),b=a(6858),_=a(9984),v=a.n(_);const k=(0,d.Z)(u,[["render",i],["__scopeId","data-v-824418ec"]]),U=k;v()(u,"components",{QCard:m.Z,QTable:p.Z,QTd:f.Z,QAvatar:w.Z,QChip:h.Z,QBtn:g.Z,QTooltip:b.Z})}}]);